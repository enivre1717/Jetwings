"use strict";tour_guide.controller("LoginController",["$scope","$rootScope","$route","$http","$uibModal","$window","tourguideModel","$cookies","$location",function($scope,$rootScope,$route,$http,$uibModal,$window,tourguideModel,$cookies,$location){$scope.dataLoaded=!1,$scope.login=function(user){tourguideModel.login(user).then(function(results){$scope.dataLoaded=!0,200==results.status?void 0!==results.data.errors&&Object.keys(results.data.errors).length>0?$scope.errors=results.data.errors:($cookies.put("apiToken","Bearer "+results.data.apiToken),$http.defaults.headers.common.Authorization="Bearer "+results.data.apiToken,$location.path("/fitbookings/list")):console.log("Error occurred - unable to login to the app.")}).catch(function(error){console.log(error),console.log("Error occurred in angular.")})},$scope.close=function(){$scope.$modalInstance.close()}}]);